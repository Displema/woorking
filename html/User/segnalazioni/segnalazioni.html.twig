<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <title>Segnala Annuncio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- link to bootstrap to have responsive template -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- link to use awesome and some beautiful effect -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link href="/html/User/segnalazioni/segnalazioni.css" rel="stylesheet" />
</head>
<body class="text-white">

<!-- include navbar-->
{% include 'navbar/navbar.html.twig' %}

<div class="container form-container text-dark">
    <h2 class="mb-4 text-center">Segnala questo annuncio</h2>
    <!-- form to send the report-->
    <form id="segnalazioneForm" action="/offices/{{idoffice}}/report" method="POST" novalidate>
        <div class="mb-3 fs-5">
            <label class="form-label">Perché segnali questo annuncio?</label>
           <!-- all the type of input -->
            <div class="form-check">
                <input class="form-check-input" type="radio" name="reportMotivation" id="nonUfficio" value="Non è un ufficio" required />
                <label class="form-check-label" for="nonUfficio">Non è un ufficio</label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="reportMotivation" id="truffa" value="È una truffa" />
                <label class="form-check-label" for="truffa">È una truffa</label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="reportMotivation" id="contenutiInutili" value="Contenuti inutili" />
                <label class="form-check-label" for="contenutiInutili">Contenuti inutili</label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="reportMotivation" id="altro" value="Altro" />
                <label class="form-check-label" for="altro">Altro</label>
            </div>
        </div>

        <div class="mb-3" id="TextContainer" style="display:none;">
            <label for="altroTesto" class="form-label fs-5">Specifica il motivo</label>
            <textarea class="form-control" id="Text" name="Text" rows="3" placeholder="Scrivi qui..."></textarea>
        </div>

        <button type="submit" class="btn btn-danger w-100">Conferma Segnalazione</button>
    </form>
</div>
 <!-- include the footer -->
{% include 'Footer/footer.html.twig' %}

<script>

    <!-- show or not textarea when we choose "altro -->
    const radios = document.querySelectorAll('input[name="reportMotivation"]');
    const altroContainer = document.getElementById("TextContainer");
    const altroTextarea = document.getElementById("Text");
    const form = document.getElementById("segnalazioneForm");

    radios.forEach(radio => {
        radio.addEventListener("change", () => {
            if (document.getElementById("altro").checked) {
                altroContainer.style.display = "block";
                altroTextarea.setAttribute("required", "required");
            } else {
                altroContainer.style.display = "none";
                altroTextarea.removeAttribute("required");
                altroTextarea.value = "";
            }
        });
    });


</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
